name: exemplo-pacote
version: 1.0.0
description: Pacote de exemplo para demonstrar todos os recursos suportados pela receita do Merge
homepage: https://github.com/usuario/exemplo-pacote
license:
  - MIT
  - GPL-3.0-or-later
dependencies:
  - libfoo
  - libbar
src_uri:
  - https://example.com/exemplo-pacote-1.0.0.tar.gz
  - git+https://github.com/usuario/exemplo-pacote-extra.git@main
build_dir: ./build/exemplo-pacote
install_prefix: /usr/local
use_flags:
  - debug
  - optimize
  - gui
patches:
  - ./patches/fix-build.patch
  - ./patches/fix-install.patch
hooks:
  pre_build:
    - echo "Executando hook pre_build..."
    - export CFLAGS="-O2"
  post_build:
    - echo "Executando hook post_build..."
    - make check
  pre_install:
    - echo "Executando hook pre_install..."
    - mkdir -p /usr/local/share/exemplo
  post_install:
    - echo "Executando hook post_install..."
    - echo "Instalação concluída com sucesso!"
build_commands:
  - mkdir -p {build_dir}/build
  - cd {build_dir}/build && ../configure --prefix={install_prefix} --enable-debug={debug} --enable-optimization={optimize}
  - cd {build_dir}/build && make -j$(nproc)
install_commands:
  - cd {build_dir}/build && make install
